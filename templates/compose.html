{% extends "base.html" %}

{% block title %}
Compose
{% endblock %}

{% block content %}
<div class="container">
	<!-- <form method="POST" enctype="multipart/form-data" action="{{ url_for('upload') }}">
		
		<input id="messageTextBox" type="text" name="message">
		<input id="encryptionKey" type="text" name="key">
		<input type="submit" name="Submit" onclick="encrypt()">
		<input type="submit">
	</form>
-->

<form method="POST" enctype="multipart/form-data" action="{{ url_for('upload') }}">
	
	<h2>to:</h2>
	{{ recipient.email }}<br>
	<input type="text" hidden="True" name="recipientName" value="{{ recipient.email }}">
	<h4>recipients public key</h4>
	<input type="text" name="recipientPubliKey" value="{{ recipient.publicKey }}" id="recPublicKey" hidden="True">
	<p class="jumbotron" style="word-break: break-all; white-space: normal;">{{ recipient.publicKey }}</p>
	<br>
	<h4>Message:</h4>
	<textarea class="form-control" name="message" id="messageTextBox" rows="7"></textarea><br>
	<!-- <lablel>No file:</lablel>
	try base64 encoding to convert the values of the files
	<input id="checkbox" type="checkbox" onclick="check(this)" -->
	 <label>Select a file you want to encrypt:</label>
	 <input id="sendingFile" type="file" name="sendingFile"><br>
	 Enter your AES encryption key:
	<input class="form-control" type="text" name="encryptionKey" id="encryptionKeyTextBox"><br>

	 <!--<input type="button" name="fileEncrypt" onclick="encryptFile()" value="Click to encrypt File" id="fileEncryptId"><br>
	 <input type="button" name="fileEncrypt" value="Click to encrypt File" id="fileEncryptId"><br>
	 <input type="text" name="hiddenFileName" id="hiddenFileName">
	 
	<label>Select encrypted file to send:</label><input type="file" name="encryptedFile" id="encryptedFiless">-->
	<input class="btn" style="margin-top: 15px;" type="button" name="aesEncryption" onclick="encryptAES()" value="encrypt"> <br>
	<h4>AES encrypted Text</h4>
	<input id="encryptedText" hidden="True" type="text" name="encryptedMessage"><br>
	<p class="jumbotron" style="word-break: break-all; white-space: normal;" id="aesEncryptedText"></p>
	<h4 class="text-muted">public key encryption</h4>
	<span>Click to sign your message: </span>
	<input type="checkbox" name="signCheck" id="signCheck"><br>
	<input class="btn" type="button" name="RSAEncrypt" value="RSA Encryption" onclick="RSAEncryption()"><br>
	<h4>Encrypted Data:</h4>
	<input type="text" hidden="True" id="sendData" name="rsaEncryptedKey"><br>
	<p class="jumbotron" style="word-break: break-all; white-space: normal;" id="rsaEncrypted"></p>
	<input class="btn" type="submit" name="submit" value="send">
</form> 

</div> 

{% endblock content%}